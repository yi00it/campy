<div class="notifications-page">
  <div class="page-header">
    <h1>Notifications</h1>
    <% if @unread_count > 0 %>
      <%= button_to "Mark all as read", mark_all_as_read_notifications_path, method: :post, class: "btn btn-secondary" %>
    <% end %>
  </div>

  <% if @notifications.any? %>
    <div class="notifications-list">
      <% @notifications.each do |notification| %>
        <div class="notification-item <%= 'unread' unless notification.read? %>" id="notification_<%= notification.id %>">
          <div class="notification-content">
            <% if notification.actor %>
              <div class="notification-avatar">
                <%= notification.actor.display_name.first.upcase %>
              </div>
            <% end %>

            <div class="notification-body">
              <p class="notification-message"><%= notification.message %></p>
              <p class="notification-time"><%= time_ago_in_words(notification.created_at) %> ago</p>
            </div>

            <div class="notification-actions">
              <% unless notification.read? %>
                <%= link_to "Mark as read", mark_as_read_notification_path(notification), method: :post, class: "btn btn-sm btn-link" %>
              <% end %>
              <%= link_to "View", notification.url, class: "btn btn-sm btn-primary" %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="empty-state">
      <p>No notifications yet</p>
    </div>
  <% end %>
</div>

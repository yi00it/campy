<section class="section">
  <header class="section__head">
    <div class="list-inline">
      <span class="pill">Configuration</span>
      <span class="pill pill--sunrise"><%= pluralize(@disciplines.count, "discipline") %></span>
    </div>
    <h1 class="section__title">Manage disciplines</h1>
    <p class="section__lead">Disciplines classify work like MEP, Fitout, or Structure. Activities can be grouped by these labels.</p>
  </header>

  <div class="split">
    <div class="stack">
      <% if @disciplines.any? %>
        <div class="activity-table-wrapper">
          <table class="activity-table" role="grid">
            <thead>
              <tr>
                <th scope="col">Discipline Name</th>
                <th scope="col" class="activity-table__actions-head">Actions</th>
              </tr>
            </thead>
            <tbody>
              <% @disciplines.each do |discipline| %>
                <tr>
                  <td class="activity-table__cell activity-table__cell--primary" data-label="Discipline Name">
                    <strong><%= discipline.name %></strong>
                  </td>
                  <td class="activity-table__cell activity-table__cell--actions" data-label="Actions">
                    <div class="activity-table__actions">
                      <%= link_to "Edit", edit_discipline_path(discipline), class: "btn btn--ghost" %>
                      <%= link_to "Delete", discipline, data: { turbo_method: :delete, turbo_confirm: "Delete discipline '#{discipline.name}'?" }, class: "btn btn--text" %>
                    </div>
                  </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      <% else %>
        <div class="empty-state">
          <p>No disciplines yet. Add some like "Structure", "MEP", or "Fitout".</p>
        </div>
      <% end %>
    </div>

    <aside class="card">
      <h2 class="section__title section__title--sm section__title--flush">Add a discipline</h2>
      <%= render "form", discipline: @discipline %>
    </aside>
  </div>
</section>
